<!DOCTYPE html>
<html lang="en">

<head>
	<title>Attorney Online session</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" type="text/css" href="styles/client.css?v=1.0.0" id="client_stylesheet">
	<link rel="stylesheet" type="text/css" href="styles/classic.css?v=1.0.0" id="client_theme">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<link type="text/css" rel="stylesheet" href="golden/css/goldenlayout.css" />
	<link type="text/css" rel="stylesheet"
		href="https://golden-layout.com/files/latest/css/goldenlayout-dark-theme.css" />
	<script src="lib/jdataview.min.js"></script>
	<script src="lib/gify.min.js"></script>
	<script src="ui.b.js"></script>
	<script src="client.b.js?v=1.0.0"></script>
</head>

<body>
	<span id="sound"></span>
	<div id="here"></div>
	<div id="client_loading">
		<h1 id="client_loadingtext">Loading</h1>
		<button class="client_reconnect" onclick="ReconnectButton()">Reconnect</button>
	</div>
	<div id="client_charselect">
		<div id="client_chartable_container">
			<table id="client_chartable"></table>
			<button onclick="pickChar(1001)">Spectate</button>
		</div>
	</div>
	<div id="client_error" class="error" style="display: none">
		<h1 id="client_errortext">You were disconnected from the server.</h1>
		<p>Code:
			<span id="error_id">(none)</span>
		</p>
		<button class="client_reconnect" onclick="ReconnectButton()">Reconnect</button>
	</div>
</body>

<template id="client_wrapper">
	<meta name="frame-title" lang="en" content="Game">
	<div id="client_icwrapper">
		<div id="client_background">
			<div id="client_gamewindow">
				<img id="client_court" alt="Courtroom backdrop" onerror="imgError(this);">
				<img id="client_pair_char" alt="Paired character" style="display: none;" onerror="charError(this);">
				<img id="client_char" alt="Character" onerror="charError(this);">
				<img id="client_bench">
				<img id="client_fg" alt="Various overlay" src="misc/placeholder.gif" onerror="imgError(this);">
				<img id="client_evi" src="" alt="Character Evidence" onerror="imgError(this);">
				<img id="client_shout" alt="Shout overlay" src="misc/placeholder.gif" onerror="imgError(this);">
				<div id="client_chatcontainer">
					<div id="client_name"></div>
					<div id="client_chat">
						<p id="client_inner_chat"></p>
					</div>
				</div>
				<img id="client_testimony" alt="Testimony overlay" style="display: none;" onerror="imgError(this);">
			</div>
		</div>
		<input id="client_inputbox" class="long" type="text" onkeypress="onEnter(event)"
			placeholder="Say something&hellip;">
		<meta name="frame-title" lang="en" content="Miscellaneous">
		<div id="client_bars">
			<span id="client_defense_hp" class="health-box">
				<div class="health-bar"></div>
			</span>
			<span id="client_prosecutor_hp" class="health-box">
				<div class="health-bar"></div>
			</span>
		</div>
		<div id="client_emo">
		</div>
		<br>
		<div id="client_buttons">
			<button id="button_1" alt="Hold it!" class="client_button" onclick="toggleShout(1)">Hold it!</button>
			<button id="button_2" alt="OBJECTION!" class="client_button" onclick="toggleShout(2)">OBJECTION!</button>
			<button id="button_3" alt="Take That!" class="client_button" onclick="toggleShout(3)">Take That!</button>
			<br>
			<br>
			<label for="textcolor">Text Color:</label>
			<select id="textcolor" name="textcolor">
				<option value="0">White</option>
				<option value="1">Green</option>
				<option value="2">Red</option>
				<option value="3">Orange</option>
				<option value="4">Blue</option>
			</select>
			<label for="sendsfx">SFX</label>
			<input type="checkbox" id="sendsfx" name="sendsfx" value="sendsfx">
			<br>
			<br>
			<button id="button_flip" alt="Flip" class="client_button" onclick="toggleFlip()">Flip</button>
			<button id="button_effect_1" alt="Flash" class="client_button" onclick="toggleEffect(1)">Flash</button>
			<button id="button_effect_2" alt="Shake" class="client_button" onclick="toggleEffect(2)">Shake</button>
		</div>
		<fieldset style="margin:10px;">
			<legend>Actions</legend>
			<!-- Judge Commands -->
			<span id="judge_action" style="display:none">
				<span id="menu_wt" onclick="initWT()" class="judge_button"
					style="color: blue"><i>Witness<br>Testimony</i></span>

				<span id="menu_ce" onclick="initCE()" class="judge_button"
					style="color: red"><i>Cross<br>Examination</i></span>

				<span id="menu_nguilty" onclick="notguilty()" class="judge_button"
					style="color: white; font-family: serif; text-shadow: -1px 0 #000, 0 1px #000, 1px 0 #000, 0 -1px #000; font-size: 1.5em; line-height: 0.75;">Not<br>Guilty</span>

				<span id="menu_guilty" onclick="guilty()" class="judge_button"
					style="color: black; font-family: serif; font-size: 1.5em;">Guilty</span>

				<br>
				<span style="display:inline-block; vertical-align: middle;">
					<span id="menu_rhpd" onclick="redHPD()" class="menu_icon" style="font-size: 2em">
						⊟
					</span>
					<span style="font-size: 1.25em">Defense</span>
					<span id="menu_ahpd" onclick="addHPD()" class="menu_icon" style="font-size: 2em">
						⊞
					</span>
				</span>
				<span style="display:inline-block; vertical-align: middle;">
					<span id="menu_ahpp" onclick="addHPP()" class="menu_icon" style="font-size: 2em">
						⊞
					</span>
					<span style="font-size: 1.25em">Prosecution</span>
					<span id="menu_rhpp" onclick="redHPP()" class="menu_icon" style="font-size: 2em">
						⊟
					</span>
				</span>
			</span>
			<!-- No Commands -->
			<span id="no_action">
				No judge actions available for this role.
			</span>
			<br>
			<span id="pairing" style="display: none">
				<label for="pair_select">Pairing partner:</label>
				<select name="pair_select" id="pair_select">
					<option value="-1">None</option>
				</select>
				<label for="pair_offset">Pairing offset:</label>
				<input type="range" name="pair_offset" id="pair_offset" min="-100" max="100" value="0">
			</span>
			<br>
			<span id="muting" style="display: none">
				<label for="mute_select">Mute a character:</label>
				<select name="mute_select" id="mute_select" size="2" onchange="mutelist_click(event)"></select>
			</span>
		</fieldset>
	</div>
</template>

<template id="mainmenu">
	<meta name="frame-title" lang="en" content="Log">
	<div id="client_menu">
		<div class="hrtext">Main Menu</div>
		<span id="menu_1" onclick="toggleMenu(1)" class="menu_icon active">
			<b class="em-3">&#128205;</b>
			<div>Areas</div>
		</span>
		<span id="menu_2" onclick="toggleMenu(2)" class="menu_icon">
			<b class="em-3">&#128188;</b>
			<div>Evidence</div>
		</span>
		<span id="menu_3" onclick="toggleMenu(3)" class="menu_icon">
			<b class="em-3">&#128295;</b>
			<div>Settings</div>
		</span>
		<span id="menu_4" onclick="toggleMenu(4)" class="menu_icon">
			<b class="em-3">&#10067;</b>
			<div>About</div>
		</span>
		<span id="menu_cm" onclick="callMod()" class="menu_icon">
			<b class="em-3">&#128680;</b>
			<div style="color: #ce2727;">Call Mod</div>
		</span>
		<div class="hrtext">
			<span id="content_name">Content</span>
		</div>
		<!-- Areas section -->
		<span class="menu_content active" id="content_1">
			<meta name="frame-title" lang="en" content="Areas">
			<div id="areas"></div>
			<br>
			<fieldset style="text-align: left">
				<legend>Current Area Background</legend>
				<span>
					<img id="bg_preview" src="misc/placeholder.gif" alt="Background Preview" onerror="imgError(this);">
				</span>
				<span style="display:inline-block">
					<label for="bg_filename">Background:</label>
					<br>
					<select id="bg_select" name="bg_select" onchange="updateBackgroundPreview()"
						style="margin-top:10px"></select>
					<br>
					<input id="bg_filename" name="bg_filename" class="short" type="text" style="margin-top:10px">
					<br>
					<br>
					<button id="bg_change" alt="Change" class="client_button hover_button"
						onclick="changeBackgroundOOC()">Change</button>
				</span>
			</fieldset>
		</span>

		<!--  Evidence section  -->
		<span class="menu_content" id="content_2">
			<meta name="frame-title" lang="en" content="Evidence">
			<fieldset style="text-align: left; display: flex; flex-direction: column;">
				<legend>Information</legend>
				<div style="display: flex;">
					<img id="evi_preview" class="evi_icon" src="" alt="Evidence Icon" onerror="imgError(this);">
					<div id="evi_options">
						<label for="evi_filename">Icon:</label>
						<select id="evi_select" name="evi_select" onchange="updateEvidenceIcon()"></select>
						<input id="evi_filename" name="evi_filename" class="short" type="text"
							placeholder="Custom filename">
						<br>
						<label for="evi_name">Name:</label>
						<input id="evi_name" name="evi_name" class="short" type="text" placeholder="Evidence name">
					</div>
				</div>
				<div style="display: flex; padding-top: 5px;">
					<textarea id="evi_desc" name="evi_desc" rows="2" cols="20"
						placeholder="Evidence description"></textarea>
				</div>
				<div style="display: block; text-align: center; padding-top: 20px;">
					<button id="evi_add" alt="Add Evidence" class="client_button hover_button"
						onclick="addEvidence()">Add</button>
					<button id="evi_edit" alt="Edit Evidence" class="client_button hover_button inactive"
						onclick="editEvidence()">Edit</button>
					<button id="evi_cancel" alt="Cancel Evidence" class="client_button hover_button inactive"
						onclick="cancelEvidence()">Cancel</button>
					<button id="evi_del" alt="Remove Evidence" class="client_button hover_button inactive"
						onclick="deleteEvidence()">Remove</button>
				</div>
			</fieldset>
			<br>
			<div id="evidences"></div>
			<br>
			<button id="button_present" alt="Present" class="client_button" onclick="togglePresent()"
				style="letter-spacing: 3px; width: 8em;"><i>Present</i></button>
		</span>

		<!-- Settings section -->
		<span class="menu_content" id="content_3">
			<meta name="frame-title" lang="en" content="Settings">
			<label for="OOC_name">Server chat name:</label>
			<input id="OOC_name" name="OOC_name" class="short" type="text">
			<label for="role_select">Role:</label>
			<select id="role_select" name="role_select" onchange="changeRoleOOC()">
				<option value="def">Defense</option>
				<option value="pro">Prosecution</option>
				<option value="jud">Judge</option>
				<option value="wit">Witness</option>
				<option value="hld">Helper Defense</option>
				<option value="hlp">Helper Prosecution</option>
				<option value="jur">Jury</option>
				<option value="sea">Seance</option>
			</select>
			<br>
			<br>
			<span id="cccc" style="display: none">
				<label for="ic_chat_name">Custom Showname:</label>
				<input id="ic_chat_name" name="ic_chat_name" class="short" type="text">
				<label for="showname">Show others:</label>
				<input id="showname" name="showname" type="checkbox" onclick="showname_click()">
			</span>
			<br>
			<br>
			<div class="slider">Music
				<input id="client_mvolume" class="long" type="range" min="0" max="100" value="80"
					onchange="changeMusicVolume()">
			</div>
			<div class="slider">SFX
				<input id="client_svolume" class="long" type="range" min="0" max="100" value="70"
					onchange="changeSFXVolume()">
			</div>
			<div class="slider">Blip
				<input id="client_bvolume" class="long" type="range" min="0" max="100" value="60"
					onchange="changeBlipVolume()">
			</div>
			<br>
			<button id="char_change" alt="Change" class="client_button hover_button" onclick="changeCharacter()">Change
				Character</button>
			<button id="char_random" alt="Random" class="client_button hover_button"
				onclick="randomCharacterOOC()">Random Character</button>
			<br>
			<br>
			<label for="client_themeselect">Theme:</label>
			<select id="client_themeselect" name="client_themeselect" onchange="reloadTheme()">
				<option value="classic" selected>Classic</option>
				<option value="soj">SoJ</option>
			</select>
			<br>
			<br>
			<span style="color:red">Only touch these settings if you know what you are doing.</span>
			<br>
			<br>
			<label for="client_encoding">Client side chat encoding:</label>
			<select id="client_encoding" name="client_encoding">
				<option value="none" selected>None</option>
				<option value="unicode">Unicode</option>
				<option value="utf16">UTF-16</option>
			</select>
			<br>
			<br>
			<label for="client_decoding">Client side chat decoding:</label>
			<select id="client_decoding" name="client_decoding">
				<option value="none">None</option>
				<option value="unicode" selected>Unicode</option>
				<option value="utf16">UTF-16</option>
			</select>
			<br>
			<br>
			<label for="bg_command">Change background command:</label>
			<input id="bg_command" name="bg_command" class="short" type="text" value="bg $1">
			<br>
			<br>
			<label for="role_command">Change role command:</label>
			<input id="role_command" name="role_command" class="short" type="text" value="pos $1">
			<br>
			<br>
			<label for="randomchar_command">Random character command:</label>
			<input id="randomchar_command" name="randomchar_command" class="short" type="text" value="randomchar">
		</span>

		<!-- About section -->
		<span class="menu_content" id="content_4">
			<meta name="frame-title" lang="en" content="About">
			<img id="about-logo" src="images/logo-new.png" alt="Attorney Online logo">
			<h1 style="line-height: .3em;">webAO</h1>
			<h3 id="client_version">version</h3>
			<p>Client created by
				<a href="https://github.com/stonedDiscord">@stonedDiscord</a> and fixed up by
				<a href="https://github.com/oldmud0">@oldmud0</a> and
				<a href="https://github.com/qubrick">Qubrick</a>.</p>
			<p>Special thanks to Aleks for reverse engineering the original Delphi client written by FanatSors.</p>
		</span>
	</div>
</template>

<template id="log">
	<meta name="frame-title" lang="en" content="Log">
	<div id="client_log">
		<div class="hrtext">↓ log starts here ↓</div>
	</div>
</template>

<template id="ooc">
	<meta name="frame-title" lang="en" content="Server">
	<div style="height: 100%; display: flex; flex-direction: column;">
		<textarea id="client_ooclog" style="flex: 1 auto" readonly></textarea>
		<input id="client_oocinputbox" class="long" type="text" onkeypress="onOOCEnter(event)">
	</div>
</template>

<template id="music">
	<meta name="frame-title" lang="en" content="Music">
	<select id="client_musiclist" size="5" onchange="musiclist_click(event)">
	</select>
</template>

</html>