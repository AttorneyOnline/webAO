!function(){"use strict";var e={6935:function(e,n){function t(e){return e.replaceAll("<num>","#").replaceAll("<and>","&").replaceAll("<percent>","%").replaceAll("<dollar>","$")}function r(e){return e?e.replaceAll(">","＞").replaceAll("<","＜"):""}function o(e){return e.replace(/\\u([\d\w]{1,})/gi,(function(e,n){return String.fromCharCode(parseInt(n,16))}))}Object.defineProperty(n,"__esModule",{value:!0}),n.escapeChat=function(e){return e.replaceAll("#","<num>").replaceAll("&","<and>").replaceAll("%","<percent>").replaceAll("$","<dollar>")},n.unescapeChat=t,n.safeTags=r,n.decodeChat=o,n.prepChat=function(e){return r(t(o(e)))}},924:function(e,n,t){var r=this&&this.__awaiter||function(e,n,t,r){return new(t||(t=Promise))((function(o,a){function c(e){try{i(r.next(e))}catch(e){a(e)}}function s(e){try{i(r.throw(e))}catch(e){a(e)}}function i(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(c,s)}i((r=r.apply(e,n||[])).next())}))},o=this&&this.__generator||function(e,n){var t,r,o,a,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(i){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(c=0)),c;)try{if(t=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return c.label++,{value:s[1],done:!1};case 5:c.label++,r=s[1],s=[0];continue;case 7:s=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){c=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){c.label=s[1];break}if(6===s[0]&&c.label<o[1]){c.label=o[1],o=s;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(s);break}o[2]&&c.ops.pop(),c.trys.pop();continue}s=n.call(e,c)}catch(e){s=[6,e],r=0}finally{t=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}},a=this&&this.__values||function(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(n,"__esModule",{value:!0}),n.setServ=p;var c=t(6935),s="servers.aceattorneyonline.com",i=window.location.protocol,l="masterlist",u=[];function p(e){var n=u[e],t=n.online,r=(0,c.safeTags)(n.description);document.getElementById("serverdescription_content").innerHTML="<b>".concat(t,"</b><br>").concat(r)}function f(e){var n=new URL(window.location.href);n.protocol=e;var t=n.pathname.split("/");return t.pop(),n.pathname=t.join("/"),"/"!==n.pathname[n.pathname.length-1]&&(n.pathname+="/"),n.pathname+="client.html",n.href}u[-2]={name:"Singleplayer",description:"Build cases, try out new things",ip:"127.0.0.1",players:0,online:"Singleplayer",port:50001},u[-1]={name:"Localhost",description:"This is your computer on port 50001",ip:"127.0.0.1",players:0,online:"Localhost",port:50001},function(){return r(this,void 0,void 0,(function(){var e,n,t,r,c,u,p,f,h,d;return o(this,(function(o){switch(o.label){case 0:return e="".concat(i,"//").concat(s,"/servers"),[4,fetch(e)];case 1:return(n=o.sent()).ok?[4,n.json()]:(console.error("Bad status code from masterserver. status: ".concat(n.status,", body: ").concat(n.body)),document.getElementById("ms_error").style.display="block",[2,(v=localStorage.getItem(l)||"[]",JSON.parse(v))]);case 2:t=o.sent(),r=[];try{for(c=a(t),u=c.next();!u.done;u=c.next())(p=u.value).name?p.ip?p.description?(f={name:p.name,description:p.description,ip:p.ip,players:p.players||0,online:"Players: ".concat(p.players)},p.ws_port&&(f.ws_port=p.ws_port),p.wss_port&&(f.wss_port=p.wss_port),(f.ws_port||f.wss_port)&&r.push(f)):console.warn("Server ".concat(p.name," has no description, skipping")):console.warn("Server ".concat(p.name," has no ip, skipping")):console.warn("Server ".concat(p," has no name, skipping"))}catch(e){h={error:e}}finally{try{u&&!u.done&&(d=c.return)&&d.call(c)}finally{if(h)throw h.error}}return localStorage.setItem(l,JSON.stringify(r)),[2,r]}var v}))}))}().then((function(e){!function(e){for(var n=0;n<e.length;n++){var t=e[n],r=0,o="",a="";if(t.ws_port&&(r=t.ws_port,o="ws",a="http"),t.wss_port&&!window.navigator.userAgent.includes("Nintendo")&&(r=t.wss_port,o="wss",a="https"),0!==r&&""!==o&&""!==a){var s=f(a),i="".concat(o,"://").concat(t.ip,":").concat(r),l=t.name,p="".concat(s,"?mode=watch&connect=").concat(i,"&serverName=").concat(l),h="".concat(s,"?mode=join&connect=").concat(i,"&serverName=").concat(l);u.push(t),document.getElementById("masterlist").innerHTML+='<li id="server'.concat(n,'" onmouseover="setServ(').concat(n,')"><p>').concat((0,c.safeTags)(t.name)," (").concat(t.players,")</p>")+'<a class="button" href="'.concat(p,'" target="_blank">Watch</a>')+'<a class="button" href="'.concat(h,'" target="_blank">Join</a></li>')}else console.warn("Server ".concat(t.name," has no websocket port, skipping"))}}(e)})),document.getElementById("clientinfo").innerHTML="Client version: ".concat("2.8.0"),function(){return r(this,void 0,void 0,(function(){var e,n;return o(this,(function(t){switch(t.label){case 0:return e="".concat(i,"//").concat(s,"/version"),[4,fetch(e)];case 1:return(n=t.sent()).ok?[4,n.text()]:(console.error("Bad status code from masterserver version check. status: ".concat(n.status,", body: ").concat(n.body)),[2,"Unknown"]);case 2:return[2,t.sent()]}}))}))}().then((function(e){!function(e){document.getElementById("serverinfo").innerHTML="Master server version: ".concat(e)}(e)})),window.setServ=p}},n={};!function t(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={exports:{}};return e[r].call(a.exports,a,a.exports,t),a.exports}(924)}();
//# sourceMappingURL=master.f0b982675606bc99b15e.bundle.js.map